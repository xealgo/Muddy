<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muddy WebClient</title>
</head>
<body>
    <h1>Muddy WebClient</h1>
    <p>This is a placeholder for the Muddy WebClient interface.</p>

    <script type="module">
        const wt = new WebTransport("https://localhost:17000/wt");

        await wt.ready;

        const stream = await wt.createBidirectionalStream();
        const writer = stream.writable.getWriter();
        const reader = stream.readable.getReader();

        writer.write(new TextEncoder().encode("ping"));

        while (true) {
            const { value, done } = await reader.read();
            if (done) break;
            console.log("Received:", new TextDecoder().decode(value));
        }
    </script>
</body>
</html>